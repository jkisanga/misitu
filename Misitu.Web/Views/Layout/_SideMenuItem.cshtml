

@using Abp.Collections.Extensions
@using Misitu.Web.Views
@model Misitu.Web.Models.Layout.TopMenuViewModel
@{
    var calculateMenuUrl = new Func<string, string>((url) =>
    {
        if (string.IsNullOrEmpty(url))
        {
            return ApplicationPath;
        }

        if (UrlChecker.IsRooted(url))
        {
            return url;
        }

        return ApplicationPath + url;
    });
}
@foreach (var menuItem in Model.MainMenu.Items)
{

    if (menuItem.Items.IsNullOrEmpty())
    {

    }
    else
    {
        if (menuItem.Name == Model.ActiveMenuItemName)
        {
           
         
                <nav class="navbar navbar-default">
                    <div class="side-menu">
                        <div class="side-menu-container">
                            <ul class="nav navbar-nav">
                                @foreach (var subMenuItem in menuItem.Items)
                        {
                                    <li class="@(Request.Url.LocalPath == subMenuItem.Url ? "active" : "")">
                                        <a href="@calculateMenuUrl(subMenuItem.Url)">

                                            @if (!string.IsNullOrWhiteSpace(subMenuItem.Icon))
                            {
                                                <i class="@subMenuItem.Icon"></i>
                                            }

                                            @subMenuItem.DisplayName
                                        </a>
                                    </li>
                                }
                            </ul>
                        </div>
                    </div>
                </nav>
               

                }
                }
                }

